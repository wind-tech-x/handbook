---
sidebar_position: 7
---

# 緊急事態 

**コードレビューをできるだけ素早く通過させなければならない緊急のCL**があります。

## 「緊急事態である」場合
「緊急事態である」とは、非常に小さなCLでありながら、以下のようなケースを解決するためのものを指します。

* 大規模なリリースを続行するために必要（ロールバックを回避するためなど）
* 本番環境でユーザーに大きな影響を与えているバグの修正
* 切迫した法的問題への対応
* 重大なセキュリティホールの修正
* その他、同程度の緊急性を持つ問題

緊急時には、コードレビューへの応答速度だけでなく、レビュー工程全体の速度を重視します。
こうした緊急のレビューが発生した場合、他のどの
レビューよりも優先して対応し、コードが正しく（緊急事態を解決できるように）動作するかどうかを中心に確認します。

ただし、緊急でコードをマージした後は、落ち着いたタイミングで改めてその CL を入念にレビューし直すことを推奨します。

## 「緊急事態でない」場合

以下は、緊急事態ではない例です。
* 今週リリースしたい（特別な期限やパートナー契約上の締め切りがない場合）。
* 開発者が長期間開発してきた機能を、今すぐマージしたい。
* レビュアー全員がタイムゾーンの関係で夜間だったり、オフサイトで不在。
* 金曜日の終業時で、週末前に CL をマージできると助かるが、それだけが理由。
* マネージャーが「今日中にレビューを完了して CL をチェックインしろ」と言っているが、それが厳格な締め切りではなく単なる希望・要望のレベル。
* テスト失敗やビルドブレイクを起こしている CL をロールバックする場合。
* その他上記に類似するケース。

## 「厳格な締め切り」とは？
「厳格な締め切り」とは、それを逃すと何らかの重大な事態が起こる場合を指します。

たとえば：

* 契約上の義務を満たすために、ある日付までにコードを提出する必要がある。
* ある日付までにリリースできなければ、製品が市場で完全に失敗する恐れがある。
* ハードウェアメーカーが年に一度だけ新ハードウェアを出荷するので、そこに実装を間に合わせないと深刻な問題が生じる。

一方、「1週間リリースが遅れる」程度は致命的な災難ではないと考えられます。
重要なカンファレンスに間に合わないことは場合によっては重大かもしれませんが、実際にはそうでないケースも多いです。

### 多くの締め切りは「ソフト」な締め切り
大半の「締め切り」は、実際には「こういう日時までにできればいいな」という ソフトな締め切り です。もちろんこれらも大切ですが、そうした締め切りを理由にコードの健全性を犠牲にするべきではありません。

リリースサイクルが数週間と長めの場合、次のサイクルを待ちたくないからといってコードレビューの品質を下げる誘惑に駆られるかもしれません。しかし、このような状態が繰り返されると、プロジェクトは大量の技術的負債を抱え込む危険があります。
もし、サイクル終盤になってから「どうしても今すぐ入れたい CL」を開発者が頻繁に投入し、表面的なレビューで妥協しているようなら、チームとして以下のようなプロセス改善が必要でしょう。

* 大きな機能変更はサイクルの早期に取りかかる。
* 十分なレビュー時間を確保する。

このようにして、コードレビューの品質を落とすことなく、締め切りを満たせる体制を整えましょう。